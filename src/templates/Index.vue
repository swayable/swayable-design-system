<template>
  <component
    :is='element'
    class='min-h-screen page font-body'
  >
    <header>
      <NavBar primary>
        <NavGroup class='flex-grow'>
          <NavLogo href='#' />
        </NavGroup>
        <NavGroup>
          <NavItem>
            <span class='flex items-center'>
              <Icon name='tests' />
              <span class='ml-2 flex'>Tests</span>
            </span>
          </NavItem>
          <NavItem>
            <span class='flex items-center'>
              <Icon name='library' />
              <span class='ml-2 flex'>Library</span>
            </span>
          </NavItem>
          <NavDrop>
            Organization
            <template #dropdown>
              <NavItem
                href='#'
                name='Profile'
              />
              <NavItem
                href='#'
                name='Settings'
              />
              <hr class='border-t m-0'>
              <NavItem
                href='#'
                name='Logout'
              />
            </template>
          </NavDrop>
        </NavGroup>
      </NavBar>
      <NavBar>
        <NavGroup class='flex-grow'>
          <NavItem>
            <Heading type='h3'>
              Project Title
            </Heading>
          </NavItem>
        </NavGroup>
        <NavGroup>
          <NavItem
            class='pt-1 text-base'
            href='#'
            name='Content'
          />
          <NavItem
            class='pt-1 text-base'
            href='#'
            name='Survey'
          />
          <NavItem
            class='pt-1 text-base'
            href='#'
            name='Results'
            active
          />
        </NavGroup>
      </NavBar>
      <NavBar class='py-2'>
        <NavGroup>
          <NavItem>
            <SelectSingle
              primary
              title='Quantitative'
              :options='[
                "Qualitative",
                "2D Quantitative",
              ]'
            />
          </NavItem>
          <NavItem
            flush
            class='ml-2'
          >
            <SelectMultiple
              title='Metrics'
              :options='[
                "Support",
                "Mobilization",
              ]'
            />
          </NavItem>
          <NavItem
            flush
            class='ml-1'
          >
            <SelectMultiple
              title='Content'
              :options='[
                "Video",
                "Image",
              ]'
            />
          </NavItem>
          <NavItem
            flush
            class='ml-1'
          >
            <SelectMultiple
              title='Segments'
              :options='[
                "18-44",
                "44+",
              ]'
            />
          </NavItem>
          <NavItem
            class='ml-2'
            flush
          >
            <ButtonGroup>
              <Button
                class='h-9 px-3 flex border-r-0'
                size='xs'
              >
                <Icon
                  name='bar-equal'
                  class='text-blue-dark'
                />
              </Button>
              <span class='w-px border-t border-b py-2 border-grey flex items-stretch'>
                <span class='w-px border-r border-grey inline-block' />
              </span>
              <Button
                class='h-9 px-3 flex'
                size='xs'
              >
                <Icon
                  name='bar-float'
                  class='text-grey'
                />
              </Button>
            </ButtonGroup>
          </NavItem>
          <NavItem
            class='ml-2'
            flush
          >
            <ButtonGroup>
              <Button
                class='h-9 px-3 flex border-r-0'
                size='xs'
              >
                <Icon
                  name='bar-equal'
                  class='text-blue-dark'
                />
              </Button>
              <span class='w-px border-t border-b py-2 border-grey flex items-stretch'>
                <span class='w-px border-r border-grey inline-block' />
              </span>
              <Button
                class='h-9 px-3 flex'
                size='xs'
              >
                <Icon
                  name='bar-distribute'
                  class='text-grey'
                />
              </Button>
            </ButtonGroup>
          </NavItem>
        </NavGroup>
        <NavGroup>
          <NavItem flush>
            <Button
              class='h-9'
              size='sm'
            >
              <Icon
                name='download'
                class='text-grey-darker mt-px'
                size='md'
              />
            </Button>
          </NavItem>
          <NavItem
            flush
            class='ml-2'
          >
            <Label class='flex items-center justify-center h-9'>
              <Icon
                name='respondents'
                class='text-grey-darker'
                size='md'
              />
              <span class='ml-1 font-mono text-base'>2907</span>
            </Label>
          </NavItem>
        </NavGroup>
      </NavBar>
    </header>
    <article class='p-4 md:p-6'>
      <section>
        <Heading type='h4'>
          Single
        </Heading>
        <div class='bg-white border rounded mt-2 flex items-center overflow-hidden'>
          <div class='border-r p-3 w-1/5'>
            <span class='bg-grey-dark px-5 py-1 mr-3 rounded' />
            <span class='font-mono'>Alex Morgan</span>
          </div>
          <div class='border-r p-3 w-1/5'>
            <span class='font-mono'>Female</span>
          </div>
          <div class='p-3 bg-inherit flex-grow'>
            <BarChart v-bind='stats[0]' />
          </div>
        </div>
      </section>
      <section class='mt-5'>
        <Heading type='h4'>
          Breakdown
        </Heading>
        <div class='bg-white border rounded mt-2 flex items-stretch overflow-hidden'>
          <div class='border-r p-3 w-1/5'>
            <span class='bg-grey-dark px-5 py-1 mr-3 rounded' />
            <span class='font-mono'>Alex Morgan</span>
          </div>
          <div class='border-r w-1/5 flex flex-col'>
            <div class='flex-grow p-3 border-b'>
              <span class='font-mono'>Female</span>
            </div>
            <div class='flex-grow p-3'>
              <span class='font-mono'>male</span>
            </div>
          </div>
          <div class='bg-inherit flex flex-col flex-grow'>
            <div class='bg-inherit flex-grow p-3 border-b'>
              <BarChart v-bind='stats[0]' />
            </div>
            <div class='bg-inherit flex-grow p-3'>
              <BarChart v-bind='stats[1]' />
            </div>
          </div>
        </div>
      </section>
      <section class='mt-5'>
        <Heading type='h4'>
          Multiple Breakdown
        </Heading>
        <div class='bg-white border rounded mt-2 flex items-stretch overflow-hidden'>
          <div class='border-r w-1/5 flex flex-col'>
            <div class='flex-grow p-3 border-b'>
              <span class='bg-grey-dark px-5 py-1 mr-3 rounded' />
              <span class='font-mono'>Alex Morgan</span>
            </div>
            <div class='flex-grow p-3'>
              <span class='bg-grey-dark px-5 py-1 mr-3 rounded' />
              <span class='font-mono'>Colin Kaepernick</span>
            </div>
          </div>
          <div class='border-r w-1/5 flex flex-col'>
            <div class='flex-grow p-3 border-b'>
              <span class='font-mono'>Female</span>
            </div>
            <div class='flex-grow p-3 border-b'>
              <span class='font-mono'>male</span>
            </div>
            <div class='flex-grow p-3 border-b'>
              <span class='font-mono'>Female</span>
            </div>
            <div class='flex-grow p-3'>
              <span class='font-mono'>male</span>
            </div>
          </div>
          <div class='bg-inherit flex flex-col flex-grow'>
            <div class='bg-inherit flex-grow p-3 border-b'>
              <BarChart v-bind='stats[0]' />
            </div>
            <div class='bg-inherit flex-grow p-3 border-b'>
              <BarChart v-bind='stats[1]' />
            </div>
            <div class='bg-inherit flex-grow p-3 border-b'>
              <BarChart v-bind='stats[2]' />
            </div>
            <div class='bg-inherit flex-grow p-3'>
              <BarChart v-bind='stats[1]' />
            </div>
          </div>
        </div>
      </section>
    </article>
  </component>
</template>

<script>
const sharedProps = { scale: 10, max: 9, min: -3 }
const stats = [{
  ...sharedProps,
  deltaLabel: '+44.2%',
  baselineLabel: '38.5% ▶',
  baseline: 3.85,
  delta: 4.42,
  error: 0.9,
},
{
  ...sharedProps,
  baselineLabel: '◀ 54.5%',
  deltaLabel: '-2.4%',
  baseline: 5.45,
  delta: -0.24,
  insignificant: true,
  error: 0.31,
},
{
  ...sharedProps,
  baselineLabel: '◀ 18.5%',
  deltaLabel: '-14.1%',
  baseline: 1.85,
  delta: -1.41,
  error: 1.2,
}]

/**
 * Shows how to layout and structure a page.
 */
export default {
  name: 'Index',
  metaInfo: {
    title: 'Swayable Design System',
    htmlAttrs: {
      lang: 'en',
    },
  },
  props: {
    /**
     * The html element name used for the component.
     */
    element: {
      type: String,
      default: 'div',
    },
  },
  data() {
    return {
      stats,
    }
  },
}
</script>

<docs>
  ```jsx
  <Index />
  ```
</docs>
