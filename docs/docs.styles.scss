/**
 * These are style overrides for Vue Styleguidist
 * (the odd formatting hence most of the classes are dynamic)
 */

/* BASE
--------------------------------------------- */
// Background of page
div.rsg--root-1 {
  background: theme('colors.white');
}
[data-theme='dark'] {
  div.rsg--root-1 {
    background: theme('colors.darker');
  }
}
// Main content
main[class^="rsg--content"] {
  padding: theme('spacing.4') theme('spacing.6');
  @media (min-width: theme('screens.md')) {
    padding: theme('spacing.4') theme('spacing.16');
  }
}

// Resetting margins for Styleguidist
header[class^="rsg--header"] > div[class^="rsg--wrapper"],
section > div[class^="rsg--wrapper"] + article[class^="rsg--root"],
article[class^="rsg--root"] div[class^="rsg--root"] {
  margin: 0 !important;
}

// Display rsg--roots as flex
main section section > div > div[class^="rsg--root"] {
  display: flex;
  flex-direction: column;
}

/* TYPOGRAPHY
--------------------------------------------- */

// Remove extra margins from all headers
// header[class^="rsg--header"] {
//   margin: 0;
// }

// Links inside h1
[class^="rsg--heading"], [class^="rsg--heading"] a {
  color: var(--heading-color) !important;
}

// // Paragraphs
html, body, code, [class^="rsg--para"] {
  color: var(--text-color) !important;
}

// Type layout adjustments
div[class^="rsg--docs"],
p[class^="rsg--para"],
h3[class^="rsg--heading"],
h4[class^="rsg--heading"] {
  max-width: 800px;
  width: 75%;
  p[class^="rsg--para"] {
    width: 100%;
  }
  @media (max-width: 1300px) {
    width: 100%;
  }
}

// Paragraphs inside table cells
td[class^="rsg--cell"] p {
  width: 100%;
}

/* SIDEBAR
--------------------------------------------- */

// Sidebar logo
div[class^="rsg--logo"] {
  border-bottom: 1px solid var(--nav-color);
  h1 {
    color: var(--nav-color-active);
    font-size: theme('fontSize.lg') !important;
    margin-top: theme('spacing.5');
  }
}

// Sidebar version
p[class^="rsg--version"] {
  display: inline-block;
  padding: theme('spacing.1') theme('spacing.2');
  margin-top: theme('spacing.3');
  color: var(--nav-color);
  line-height: theme('lineHeight.none');
  border: 1px solid var(--nav-color);
  letter-spacing: theme('letterSpacing.wide');
  font-size: theme('fontSize.sm');
  border-radius: theme('borderRadius.sm');
}

// Sidebar search
div[class^="rsg--search"] input {
  padding: theme('spacing.2') theme('spacing.3');
  color: var(--nav-color-active);
  border: 1px solid transparent;
  background: theme('colors.blue-burn');
  &:focus {
    border: 1px solid theme('colors.blue');
    &::-webkit-textfield-decoration-container {
      display: none !important;
    }
    &::-webkit-contacts-auto-fill-button {
      display: none !important;
    }
  }
  &::-webkit-input-placeholder, &:-ms-input-placeholder {
    color: theme('colors.blue-fade');
  }
  &::-moz-placeholder {
    color: theme('colors.blue-fade');
    opacity: 1;
  }
}

// Sets sidebar background
div[class^="rsg--sidebar"] {
  background: var(--nav-bg);
  color: var(--nav-color);
  border: 0;
  @media (max-width: theme('screens.md')) {
    padding-bottom: theme('spacing.12');
  }

 

  // Sidebar sub navigations
  ul ul[class^="rsg--list"] {
    max-height: 0;
    transition: max-height 0.25s ease-out;
    &.vueds-visible {
      height: auto;
    }
  }

  // Sidebar list item
  li[class^="rsg--item"] {
    margin: 0;
    display: block;
    &:focus {
      ul[class^="rsg--list"] {
        max-height: 400px !important;
      }
    }
  }

  // Sidebar first level links
  a[class^="rsg--link"] {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    padding: theme('spacing.1') theme('spacing.6');
    font-weight: 500;
    color: var(--nav-color);
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    &:hover {
      color: var(--nav-color-active)
    }
    &:active {
      color: var(--nav-color-active)
    }
  }

  // Sidebar active link
  .vueds-active{
    ul[class^="rsg--list"] {
      max-height: 400px;
    }
    & > a,
    & > a:hover {
      color: var(--nav-color-active)
    }
  }

  // Sidebar list
  ul[class^="rsg--list"] {
    padding-left: 0;

    // Sidebar sub-list
    ul {
      padding-left: theme('spacing.4');
      line-height: theme('lineHeight.snug');
      @media (max-width: #{theme('screens.sm')}) {
        padding: 0 0 0 theme('spacing.12');
        width: 90%;

        // Sidebar sub-list item
        li {
          display: inline;
          line-height: theme('lineHeight.relaxed');
        }
      }

      // Sidebar second level link
      a[class*="rsg--link"] {
        font-size: 1rem;
        font-weight: 400;
        -webkit-font-smoothing: subpixel-antialiased;
        -moz-osx-font-smoothing: auto;
        @media (max-width: #{theme('screens.sm')}) {
          float: left;
          padding: 0 theme('spacing.2') 0 0;
        }
      }
    }
  }
}

/* CODE & COMPONENT PREVIEWS
--------------------------------------------- */

// Previews of the components
div[class^="rsg--preview"] {
  padding: 0;
  border: 0;
  margin: 0;
  border-radius: 0;
  display: block;
  width: 100%;
  border-top-left-radius: theme('borderRadius.sm');
  border-top-right-radius: theme('borderRadius.sm');
}

// If you edit the component categories, you have to edit
// these to match as well.
div[data-preview="Elements"],
div[data-preview="Patterns"],
div[data-preview="Templates"] {
  background: transparent;
  box-shadow: none;
  padding: 0;
  border: 0;

  // This hides code previews from the above examples
  & + div + div[class^="rsg--tab"] {
    display: none !important;
  }
}

// Clearfix to take care of floated content inside previews
div[data-preview]:after {
  content: "";
  display: table;
  clear: both;
}

// Code tabs and table
div[class^="rsg--tabs"],
table[class^="rsg--table"] {
  margin-bottom: theme('spacing.4');
  overflow-x: auto;
}
thead[class^="rsg--tableHead"] {
  border: 0;
}

// Codemirror and markdown code blocks
pre[class^="rsg--pre"],
.vueds-html.cm-s-night.CodeMirror,
.react-codemirror2 .CodeMirror.CodeMirror {
  background: theme('colors.black');
  border-bottom-left-radius: theme('borderRadius.sm');
  border-bottom-right-radius: theme('borderRadius.sm');
  box-sizing: border-box;
  -webkit-font-smoothing: subpixel-antialiased;
  -moz-osx-font-smoothing: auto;
  height: auto;
  border: 0;
  font-family: Consolas, "Liberation Mono", Menlo, monospace;
  font-size: 1rem;
  margin: 0;
  min-height: theme('spacing.48') / 1.5;
  margin-bottom: theme('spacing.6');
  color: theme('colors.light');
  padding: theme('spacing.6');
  word-wrap: break-word;
  white-space: pre-wrap;
  word-break: normal;
  .CodeMirror-scroll,
  .CodeMirror-vscrollbar {
    overflow: hidden;
  }
  code {
    color: theme('colors.light');
  }
}

// HTML preview needs some padding adjustments to match Styleguidist
.vueds-html.cm-s-night.CodeMirror {
  padding-left: theme('spacing.6') - 4px;
}

// VUE & HTML Code tabs
div[class^="rsg--tab"] {
  position: relative;
  .vueds-tabs {
    z-index: 5;
    border-radius: theme('borderRadius.sm');
    box-shadow: 0 2px 8px theme('colors.gray.800');
    overflow: hidden;
    position: absolute;
    top: theme('spacing.6');
    right: theme('spacing.6');
    .vueds-tab {
      border: 0;
      margin: 0;
      letter-spacing: theme('letterSpacing.tight');
      font-size: 1rem;
      font-weight: 400;
      font-family: $font-text;
      line-height: theme('lineHeight.snug');
      padding: theme('spacing.4');
      cursor: pointer;
      background: theme('colors.blue-burn');
      color: theme('colors.light');
      &:active {
        background: theme('colors.blue');
      }
      &:focus {
        outline: none;
      }
      &--active {
        background: theme('colors.blue');
      }
    }
  }
}

// Hidden HTML/VUE code preview
.vueds-hidden {
  opacity: 0;
  visibility: hidden;
  z-index: -1;
  top: -10000px;
  left: 0;
  position: absolute !important;
}

// Fixes a few layout bugs with CodeMirror
.CodeMirror-scroll.CodeMirror-scroll {
  overflow: hidden !important;
}

// Code highlighting for both CodeMirror and Markdown files
.hljs-variable,
.hljs-selector-class,
.cm-s-night span.cm-variable,
.cm-s-night span.cm-variable-2,
.cm-s-night span.cm-bracket,
.cm-s-night span.cm-tag,
.hljs-tag,
.hljs-name {
  color: theme('colors.light') !important;
}
.hljs-attribute,
.hljs-keyword,
.hljs-attr,
.cm-s-night span.cm-operator,
.cm-s-night span.cm-number,
.cm-s-night span.cm-attribute {
  color: theme('colors.yellow') !important;
}
.cm-s-night span.cm-string,
.hljs-string {
  color: theme('colors.orange-fade') !important;
}

span[class^="rsg--name"] code[class^="rsg--code"],
code.name {
  font-weight: 700;
  color: var(--text-color);
}
span[class^="rsg--type"] code[class^="rsg--code"],
code.type {
  background: theme('colors.grey');
  color: var(--text-color);
  padding: theme('spacing.1');
  border-radius: theme('borderRadius.sm');
}

/* COMPONENT STATUS LABELS
--------------------------------------------- */

// Here we’re setting a custom order for Styleguidist’s pieces
header[class^="rsg--header"] {
  order: 2;
}
div[class^="rsg--docs"],
article[class^="rsg--root"],
button[class^="rsg--button"] {
  order: 3;
}
div[class^="rsg--root"] div[class^="rsg--tabs"] {
  order: 4;
}

// Status label is shown in top right corner for each component
.status {
  font-weight: 400;
  order: 1;
  align-self: flex-end;
  cursor: help;
  line-height: theme('lineHeight.none');
  background: theme('colors.gray.600');
  padding: theme('spacing.2') theme('spacing.4') theme('spacing.2')/1.2;
  text-transform: uppercase;
  letter-spacing: 1px;
  font-size: 0.875rem;
  border-radius: theme('borderRadius.sm');
  color: theme('colors.dark');
  position: absolute;
  right: theme('spacing.24');
  top: theme('spacing.32');
  z-index: 2;
  @media (max-width: 1300px) {
    top: theme('spacing.24');
  }
  @media (max-width: #{theme('screens.md')}) {
    top: theme('spacing.16');
    right: theme('spacing.6');
  }
  &-ready {
    background: theme('colors.orange');
    color: theme('colors.light');
  }
  &-review,
  &-under-review {
    background: theme('colors.yellow');
    color: theme('colors.dark');
  }
  &-prototype {
    background: theme('colors.blue');
    color: theme('colors.light');
  }
  &-deprecated {
    background: theme('colors.blue');
    color: theme('colors.light');
  }
}

/* TABLES
--------------------------------------------- */

// Global tr setting so that vueds custom components use this as well
tr {
  transition: background-color 0.1s ease;
  &:hover {
    background: theme('colors.light');
  }
}

table[class^="rsg--table"] {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;
  th {
    padding: theme('spacing.4') theme('spacing.12') theme('spacing.4') theme('spacing.4');
    font-size: 1rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-radius: 0;
    background: theme('colors.light');
    color: theme('colors.blue');
    text-align: left;
  }
  th[class^="rsg--cellHeading"],
  td {
    padding: theme('spacing.4') theme('spacing.12') theme('spacing.4') theme('spacing.4');
    background: transparent;
  }
  td {
    font-size: 1rem;
    padding: theme('spacing.4') theme('spacing.12') theme('spacing.4') theme('spacing.4');
    &:first-child {
      font-weight: 700;
      white-space: nowrap;
    }
  }
  tr {
    border-bottom: 1px solid theme('colors.grey');
  }
  tbody tr:last-child {
    border-bottom: 0;
  }
}

thead[class^="rsg--thead"] {
  th:first-child {
    border-top-left-radius: theme('borderRadius.sm');
    border-bottom-left-radius: theme('borderRadius.sm');
  }
  th:last-child {
    border-top-right-radius: theme('borderRadius.sm');
    border-bottom-right-radius: theme('borderRadius.sm');
  }
}

/* HIDDEN STYLEGUIDIST FUNCTIONALITY
--------------------------------------------- */

div[class^="rsg--tabButtons"],
div[class^="rsg--controls"],
div[class^="rsg--pathline"],
footer[class^="rsg--footer"] {
  display: none !important;
}

/* HIDDEN FUNCTIONALITY
--------------------------------------------- */

// Hide private components
.hide-private,
.hide-private + div,
a[href="#private-components"],
a[href="#private-components"] + ul {
  display: none !important;
}

// Hide Private components and placeholder sections
ul a[href*="/#/Getting Started/Components"],
ul a[href*="/#/Design Tokens/Color"],
ul a[href*="/#/Design Tokens/Spacing"],
ul a[href*="/#/Design Tokens/Fonts"],
ul a[href*="/#/Design Tokens/FontSize"],
ul a[href*="/#/Design Tokens/All"],
ul a[href*="/#/Private Components"] {
  display: none !important;
}


h1, h1 > * { font-size: theme('fontSize.4xl') !important }
h2, h2 > * { font-size: theme('fontSize.3xl') !important }
h3, h3 > * { font-size: theme('fontSize.2xl') !important }
h4, h4 > * { font-size: theme('fontSize.xl') !important }
h5, h5 > * { font-size: theme('fontSize.lg') !important }
code {
  font-family: $font-mono !important;
  color: theme('colors.red') !important;
  font-weight: theme('fontWeight.thin') !important;
  background-color: var(--bg-color) !important;
  padding: theme('spacing.px') theme('spacing.1') !important;
  display: inline-block;
  font-size: theme('fontSize.sm') !important;
  border-radius: theme('borderRadius.none')
}
.page {
  @include pagestyle;
}

input {
  background: var(--bg-color);
  padding: theme('spacing.1') theme('spacing.2');
  border-radius: theme('borderRadius.sm')
}